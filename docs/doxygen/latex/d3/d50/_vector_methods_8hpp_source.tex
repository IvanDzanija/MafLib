\doxysection{Vector\+Methods.\+hpp}
\hypertarget{_vector_methods_8hpp_source}{}\label{_vector_methods_8hpp_source}\index{include/MafLib/math/linalg/VectorMethods.hpp@{include/MafLib/math/linalg/VectorMethods.hpp}}
\doxymbox{\hyperlink{_vector_methods_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ VECTOR\_METHODS\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ VECTOR\_METHODS\_H}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{_vector_8hpp}{Vector.hpp}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{keyword}{namespace\ }\doxymbox{\hyperlink{namespacemaf_1_1math}{maf::math}}\ \{}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Inplace\ fill}}
\DoxyCodeLine{00008\ \textcolor{keyword}{template}\ <Numeric\ T>}
\DoxyCodeLine{00009\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a7112b999c9d59b392fba991a752af923}{Vector<T>::fill}}(T\ value)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{keywordflow}{if}\ (\_data.size()\ >\ OMP\_LINEAR\_LIMIT)\ \{}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#pragma\ omp\ parallel\ for}}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \_data.size();\ ++i)\ \{}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \ \ \ \ \_data[i]\ =\ value;}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00015\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \_data.size();\ ++i)\ \{}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \ \ \ \ \_data[i]\ =\ value;}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00019\ \ \ \ \ \}}
\DoxyCodeLine{00020\ \}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{comment}{//\ L2\ Norm}}
\DoxyCodeLine{00023\ \textcolor{keyword}{template}\ <Numeric\ T>}
\DoxyCodeLine{00024\ [[nodiscard]]\ T\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a9ea665a8b70c85be70957d511865ff28}{Vector<T>::norm}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00025\ \ \ \ \ T\ sum\ =\ 0.0;}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ n\ =\ \_data.size();}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >\ OMP\_LINEAR\_LIMIT)\ \{}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#pragma\ omp\ parallel\ for\ reduction(+:sum)}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ sum\ +=\ \_data[i]\ *\ \_data[i];}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00032\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#pragma\ omp\ simd}}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ sum\ +=\ \_data[i]\ *\ \_data[i];}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00037\ \ \ \ \ \}}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordflow}{return}\ std::sqrt(sum);}
\DoxyCodeLine{00039\ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{comment}{//\ Inplace\ normalize\ with\ L2\ norm}}
\DoxyCodeLine{00042\ \textcolor{keyword}{template}\ <Numeric\ T>}
\DoxyCodeLine{00043\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a02e4aff220cd36bb92d84d08def1fdb2}{Vector<T>::normalize}}()\ \{}
\DoxyCodeLine{00044\ \ \ \ \ T\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a9ea665a8b70c85be70957d511865ff28}{norm}}\ =\ this-\/>norm();}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{namespacemaf_1_1util_ae4cf9e3bb378a55e4cb78fd699dfd4ff}{is\_close}}(\doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a9ea665a8b70c85be70957d511865ff28}{norm}},\ 0))\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::invalid\_argument(\textcolor{stringliteral}{"{}Vector\ norm\ is\ close\ to\ 0!"{}});}
\DoxyCodeLine{00047\ \ \ \ \ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ T\ norm\_inv\ =\ T(1)\ /\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a9ea665a8b70c85be70957d511865ff28}{norm}};}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ n\ =\ \_data.size();}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ >\ OMP\_LINEAR\_LIMIT)\ \{}
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#pragma\ omp\ parallel\ for}}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \_data[i]\ *=\ norm\_inv;}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00057\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00058\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#pragma\ omp\ simd}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \_data[i]\ *=\ norm\_inv;}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{comment}{//\ Inplace\ transpose}}
\DoxyCodeLine{00066\ \textcolor{keyword}{template}\ <Numeric\ T>}
\DoxyCodeLine{00067\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a6257e58bd19631bdfb91b72c1da6d2c2}{Vector<T>::transpose}}()\ noexcept\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \_orientation\ =\ (\_orientation\ ==\ \doxymbox{\hyperlink{namespacemaf_1_1util_a39d02d28701edb926edf1c9930554297aafe9f004ed3a9cc528054c668d639c02}{COLUMN}})\ ?\ \doxymbox{\hyperlink{namespacemaf_1_1util_a39d02d28701edb926edf1c9930554297a9940ad68617dac484ce18ec7b07beabc}{ROW}}\ :\ \doxymbox{\hyperlink{namespacemaf_1_1util_a39d02d28701edb926edf1c9930554297aafe9f004ed3a9cc528054c668d639c02}{COLUMN}};}
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{comment}{//\ Creates\ new\ transposed\ vector}}
\DoxyCodeLine{00072\ \textcolor{keyword}{template}\ <Numeric\ T>}
\DoxyCodeLine{00073\ [[nodiscard]]\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_aa96c8ef557852ec4425b3399e4c758c7}{Vector<T>}}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a8f1900daefc1a467b50da3c889612c75}{Vector<T>::transposed}}()\ const\ noexcept\ \{}
\DoxyCodeLine{00074\ \ \ \ \ \doxymbox{\hyperlink{namespacemaf_1_1util_a39d02d28701edb926edf1c9930554297}{Orientation}}\ new\_orientation\ =\ (\_orientation\ ==\ \doxymbox{\hyperlink{namespacemaf_1_1util_a39d02d28701edb926edf1c9930554297aafe9f004ed3a9cc528054c668d639c02}{COLUMN}})\ ?\ \doxymbox{\hyperlink{namespacemaf_1_1util_a39d02d28701edb926edf1c9930554297a9940ad68617dac484ce18ec7b07beabc}{ROW}}\ :\ \doxymbox{\hyperlink{namespacemaf_1_1util_a39d02d28701edb926edf1c9930554297aafe9f004ed3a9cc528054c668d639c02}{COLUMN}};}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordflow}{return}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_aa96c8ef557852ec4425b3399e4c758c7}{Vector<T>}}(this-\/>\doxymbox{\hyperlink{classmaf_1_1math_1_1_vector_a486da0689bba119f338f50eb5e334a1a}{size}}(),\ \_data,\ new\_orientation);}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \}\ \ \textcolor{comment}{//\ namespace\ maf::math}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
