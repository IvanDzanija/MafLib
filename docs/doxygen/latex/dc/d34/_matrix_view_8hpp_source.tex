\doxysection{Matrix\+View.\+hpp}
\hypertarget{_matrix_view_8hpp_source}{}\label{_matrix_view_8hpp_source}\index{include/MafLib/math/linalg/MatrixView.hpp@{include/MafLib/math/linalg/MatrixView.hpp}}
\doxymbox{\hyperlink{_matrix_view_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ MATRIX\_VIEW\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ MATRIX\_VIEW\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{utility_2_math_8hpp}{MafLib/utility/Math.hpp}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{namespace\ }\doxymbox{\hyperlink{namespacemaf_1_1math}{maf::math}}\ \{}
\DoxyCodeLine{00008\ \textcolor{keyword}{using\ namespace\ }maf::util;}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{template}\ <Numeric\ T>}
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_adc57f0ff90c918ec0a44a142b3d9e0af}{MatrixView}}\ \{}
\DoxyCodeLine{00022\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00024\ \ \ \textcolor{keyword}{using\ }\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a07570325f53b89cc3ac164f394f4ac22}{value\_type}}\ =\ std::remove\_const\_t<T>;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00027\ \ \ \textcolor{keyword}{explicit}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_adc57f0ff90c918ec0a44a142b3d9e0af}{MatrixView}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00035\ \ \ \textcolor{keyword}{explicit}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a1a4409d54853fafe9023bf3517e71b1f}{MatrixView}}(T\ *\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a9abab954d3502b4acfd36d0075291717}{data}},\ \textcolor{keywordtype}{size\_t}\ r,\ \textcolor{keywordtype}{size\_t}\ c,\ \textcolor{keywordtype}{size\_t}\ s)}
\DoxyCodeLine{00036\ \ \ \ \ \ \ :\ \_data(\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a9abab954d3502b4acfd36d0075291717}{data}}),\ \_rows(r),\ \_cols(c),\ \_stride(s)\ \{\}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00039\ \ \ [[nodiscard]]\ T\ *\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a9abab954d3502b4acfd36d0075291717}{data}}()\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \_data;\ \}}
\DoxyCodeLine{00041\ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a07570325f53b89cc3ac164f394f4ac22}{value\_type}}\ *\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a3276adfc72f7d6df0ccfdeae9aa61f4f}{data}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \_data;\ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00046\ \ \ [[nodiscard]]\ T\ *\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_aa5a4c8b138a9007bc4ea0da51dcab831}{operator[]}}(\textcolor{keywordtype}{size\_t}\ r)\ \textcolor{keyword}{noexcept}\ \{\ \textcolor{keywordflow}{return}\ \_data\ +\ (r\ *\ \_stride);\ \}}
\DoxyCodeLine{00050\ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a07570325f53b89cc3ac164f394f4ac22}{value\_type}}\ *\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a019cca8efca9acf796e7520a3494d117}{operator[]}}(\textcolor{keywordtype}{size\_t}\ r)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{return}\ \_data\ +\ (r\ *\ \_stride);}
\DoxyCodeLine{00052\ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00058\ \ \ T\ \&\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_aa4dd12fcd2457a05d5f29fb5997f1e32}{at}}(\textcolor{keywordtype}{size\_t}\ row,\ \textcolor{keywordtype}{size\_t}\ col)\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{if}\ (row\ >=\ \_rows\ ||\ col\ >=\ \_cols)\ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::out\_of\_range(\textcolor{stringliteral}{"{}View\ index\ out\ of\ bounds"{}});}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{return}\ \_data[(row\ *\ \_stride)\ +\ col];}
\DoxyCodeLine{00063\ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00069\ \ \ [[nodiscard]]\ \textcolor{keyword}{const}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a07570325f53b89cc3ac164f394f4ac22}{value\_type}}\ \&\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_af75930c9147110fbecfb5574f963c0a2}{at}}(\textcolor{keywordtype}{size\_t}\ row,\ \textcolor{keywordtype}{size\_t}\ col)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{if}\ (row\ >=\ \_rows\ ||\ col\ >=\ \_cols)\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::out\_of\_range(\textcolor{stringliteral}{"{}View\ index\ out\ of\ bounds"{}});}
\DoxyCodeLine{00072\ \ \ \ \ \}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordflow}{return}\ \_data[(row\ *\ \_stride)\ +\ col];}
\DoxyCodeLine{00074\ \ \ \}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00080\ \ \ [[nodiscard]]\ std::span<T>\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_ace0019d93cd6ddcc3074176ab81be986}{row\_span}}(\textcolor{keywordtype}{size\_t}\ r)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ >=\ \_rows)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::out\_of\_range(\textcolor{stringliteral}{"{}Row\ index\ out\ of\ bounds"{}});}
\DoxyCodeLine{00083\ \ \ \ \ \}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordflow}{return}\ std::span<T>(\_data\ +\ (r\ *\ \_stride),\ \_cols);}
\DoxyCodeLine{00085\ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00090\ \ \ [[nodiscard]]\ std::span<const\ value\_type>\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a13ac0939d6a41e13f3c5cf83086ab86d}{row\_span}}(\textcolor{keywordtype}{size\_t}\ r)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ >=\ \_rows)\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::out\_of\_range(\textcolor{stringliteral}{"{}Row\ index\ out\ of\ bounds"{}});}
\DoxyCodeLine{00093\ \ \ \ \ \}}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordflow}{return}\ std::span<const\ T>(\_data\ +\ (r\ *\ \_stride),\ \_cols);}
\DoxyCodeLine{00095\ \ \ \}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00098\ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a941d23fedfe623554aa311fcb3dbedb4}{row\_count}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \_rows;\ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00101\ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_a36d6c7ab732b0a81e0097881d0220808}{column\_count}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \_cols;\ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00104\ \ \ [[nodiscard]]\ \textcolor{keywordtype}{size\_t}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_ab9e28031f4124585beb591c39dd0c6fd}{get\_stride}}()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ \_stride;\ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00110\ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_ab214743936909e452d61a3d343dcb763}{print}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keyword}{constexpr}\ (std::is\_floating\_point\_v<T>)\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ std::cout\ <<\ std::fixed\ <<\ std::setprecision(FLOAT\_PRECISION);}
\DoxyCodeLine{00113\ \ \ \ \ \}}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ \_rows;\ ++i)\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ 0;\ j\ <\ \_cols;\ ++j)\ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ std::cout\ <<\ this-\/>\doxymbox{\hyperlink{classmaf_1_1math_1_1_matrix_view_aa4dd12fcd2457a05d5f29fb5997f1e32}{at}}(i,\ j)\ <<\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ std::cout\ <<\ std::endl;}
\DoxyCodeLine{00119\ \ \ \ \ \}}
\DoxyCodeLine{00120\ \ \ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00123\ \ \ T\ *\_data;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Pointer\ to\ the\ start\ of\ the\ submatrix\ (top-\/left)}}
\DoxyCodeLine{00124\ \ \ \textcolor{keywordtype}{size\_t}\ \_rows;\ \ \ \ \textcolor{comment}{//\ Logical\ height}}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordtype}{size\_t}\ \_cols;\ \ \ \ \textcolor{comment}{//\ Logical\ width}}
\DoxyCodeLine{00126\ \ \ \textcolor{keywordtype}{size\_t}\ \_stride;\ \ \textcolor{comment}{//\ Parent\ Matrix\ width}}
\DoxyCodeLine{00127\ \};}
\DoxyCodeLine{00128\ \}\ \ \textcolor{comment}{//\ namespace\ maf::math}}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{_matrix_view_operators_8hpp}{MatrixViewOperators.hpp}}"{}}}
\DoxyCodeLine{00131\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
